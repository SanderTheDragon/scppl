# SPDX-FileCopyrightText: 2021-2022 SanderTheDragon <sanderthedragon@zoho.com>
#
# SPDX-License-Identifier: LGPL-3.0-or-later

set(scppl_SUPPORTED_COMPONENTS Binary)

foreach(COMPONENT ${scppl_FIND_COMPONENTS})
    if (NOT ";${scppl_SUPPORTED_COMPONENTS};" MATCHES ";${COMPONENT};")
        set(scppl_FOUND False)
        set(scppl_NOT_FOUND_MESSAGE "Unsupported component: ${COMPONENT}")
    endif()

    include("${CMAKE_CURRENT_LIST_DIR}/${COMPONENT}Targets.cmake")
endforeach()


include(CMakeFindDependencyMacro)

list(APPEND CMAKE_MODULE_PATH "${CMAKE_CURRENT_LIST_DIR}/dependencies")

# Find dependencies for Binary
get_target_property(Binary_DEFINITIONS scppl::Binary INTERFACE_COMPILE_DEFINITIONS)

if(SCPPL_CONFIG_BINARY_USE_ICU IN_LIST Binary_DEFINITIONS)
    find_dependency(ICU COMPONENTS uc)
endif()

if(SCPPL_CONFIG_BINARY_USE_PFR IN_LIST Binary_DEFINITIONS)
    find_dependency(BoostPFR)
endif()
